#!/bin/bash

# ะัััััะน ะทะฐะฟััะบ ะฒะตะฑ-ัะตัะฒะตัะฐ ะดะปั ะฟัะพะตะบัะฐ "ะกะผะตัะฐ ะะฃ"
echo "๐ ะะฐะฟััะบ ะฒะตะฑ-ัะตัะฒะตัะฐ..."

# ะัะพะฒะตััะตะผ ัััะตััะฒะพะฒะฐะฝะธะต ะฒะธัััะฐะปัะฝะพะณะพ ะพะบััะถะตะฝะธั
if [ ! -d "venv" ]; then
    echo "โ ะะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต ะฝะต ะฝะฐะนะดะตะฝะพ!"
    echo "ะกะพะทะดะฐะนัะต ะตะณะพ ะบะพะผะฐะฝะดะพะน: python -m venv venv"
    exit 1
fi

# ะะบัะธะฒะธััะตะผ ะฒะธัััะฐะปัะฝะพะต ะพะบััะถะตะฝะธะต ะธ ะทะฐะฟััะบะฐะตะผ ัะตัะฒะตั
source venv/bin/activate

# ะัะพะฒะตััะตะผ ัััะฐะฝะพะฒะบั ะทะฐะฒะธัะธะผะพััะตะน
if ! python -c "import flask" 2>/dev/null; then
    echo "๐ฆ ะฃััะฐะฝะฐะฒะปะธะฒะฐะตะผ ะทะฐะฒะธัะธะผะพััะธ..."
    pip install -r requirements.txt
fi

echo "๐ ะะฐะฟััะบ ะฝะฐ http://localhost:5003"
echo "๐ ะะปั ะพััะฐะฝะพะฒะบะธ ะฝะฐะถะผะธัะต Ctrl+C"

# ะะฐะฟััะบะฐะตะผ ัะตัะฒะตั
python web_gui.py